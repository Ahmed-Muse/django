

<!-- this file will be common to all .html files so that you 
you do not repeat them every time.-->
{% load crispy_forms_tags %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>


    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    

    <title> Home </title>
    <link href="/static/css/bootstrap.min.css" rel="stylesheet"/>


</head>
<body>
    <a href="/">Website</a>
    <a href="add_customers">Add Customer</a>     

    
<!--start of deleted succesfully messge-->
{% if messages %}
<ul class="messages">
       {% for message in messages %}
    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
       {% endfor %}
</ul>
{% endif %}
<!-- end of deleted succesfully messge-->


<div class="container">
    <div class="row">
        <div class="col md-12"></div>
            <div class="jumbotron p-3">
                <h2>Allifmaal Customer Management System</h2> 

                <!-- start of the search form-->
                <form method='POST' action=''>{% csrf_token %}
                    {{form|crispy}}
                        <input type="submit" value='Search'/>
                </form>
                <br>
                <!-- end of the search form-->


                    <button type="button" class="btn btn_success float-right" data-toggle="modal" data-target="#mymodal">Add Customer</button></h2>
                <table class="table table-hover table-dark">
                    <tr>
                        <th>ID</th>
                        <th>Customer Name</th>
                        <th>Project Name</th>
                        <th>Project Status</th>
                        <th>Customer Contacts</th>
                        <th>Contact Person</th>
                        <th>Customer Address</th>
                        <th>Update</th>
                        <th>Delete</th>
                    </tr>
                    {% for records in query_table_content %}

            
            <tr>
                <td>{{records.id}}</td>
                <td>{{records.customer_name}}</td>
                <td>{{records.project_name}}</td>
                <td>{{records.project_status}}</td>
                <td>{{records.customer_contacts}}</td>
                <td>{{records.contact_person}}</td>
                <td>{{records.customer_address}}</td>
                <td> <a href="{% url 'update_customers' records.id %}">Update</a></td>
                <td> <a href="{% url 'delete_customer' records.id %}"><img src="{% static 'images/delete.png'%}" width="30"></a></td>



                
                    
                </td></td>
                </tr>
            {% endfor %}
                    
                


            




                </table>
        </div></div>


            <!--start of modal for adding a new customer-->
            <div id="mymodal"class="modal fade" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title">Add Customer</h4>
                        </div>
                        <div class="modal-body">
                            <form action="/%20insert" method="POST">
                                <div class="form-group">
                                    <label>Name:</label>
                                    <input type="text" class="form-control" name="customer_name" required="1">
                                </div>
                            <div class="form-group">
                                <label>Project Name </label>
                                <input type="text" class="form-control" name="project_name" required="1">
                                </div>
                            
                            <div class="form-group">
                                <label>Project Status </label>
                                <input type="text" class="form-control" name="project_status" required="1">
                                </div>

                                <div class="form-group">
                                    <label>Customer Contacts </label>
                                    <input type="text" class="form-control" name="customer_contacts" required="1">
                                    </div>

                                    <div class="form-group">
                                        <label>Contact Person </label>
                                        <input type="text" class="form-control" name="contact_person" required="1">
                                        </div>

                                        <div class="form-group">
                                            <label>Customer Address </label>
                                            <input type="text" class="form-control" name="customer_address" required="1">
                                            </div>
                            
                            <div class="form-group">
                                <button class="btn btn-primary"  type="submit">Add Customer </button>
                            
                            
                                    </div>
                            <div class="form-group">
                                <button class="btn btn-secondary" data-dismiss="modal">Close</button>
                                            
                                    
                                    </div>


                                </form>
                    
        
</div>

</div>

<!--end of modal for adding a new customer-->                        
                            

                            

<!--start-->

<div id="mymodal"class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">update</h4>
            </div>
            <div class="modal-body">
                <form action="" method="POST">
                    <div class="form-group">
                        <label>Name:</label>
                        <input type="text" class="form-control" name="name" required="1"
                    </div>
                <div class="form-group">
                    <label>Email:</label>
                    <input type="email" class="form-control" name="email" required="1">
                    </div>
                
                <div class="form-group">
                    <label>phone:</label>
                    <input type="Number" class="form-control" name="phone" required="1">
                    </div>
                
                <div class="form-group">
                    <button class="btn btn-primary"  type="submit">update</button>
                        
                
                        </div>
                <div class="form-group">
                <button class="btn btn-secondary" data-dismiss="modal">Close</button>
                                
                        
                        </div>


                </form>

    


    <script type="text/javascript" scr="/static/js/jquery.js"></script>
    <script type="text/javascript" scr="/static/js/bootstrap.min.js"></script>
  
</body>


</html>
<!-- stopped css texts -->